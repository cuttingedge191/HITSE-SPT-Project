<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh">

<head>
    <meta charset="utf-8"/>
    <title>Flatkit - HTML Version | Bootstrap 4 Web App Kit with AngularJS</title>
    <meta name="description" content="Admin, Dashboard, Bootstrap, Bootstrap 4, Angular, AngularJS"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- for ios 7 style, multi-resolution icon of 152x152 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-barstyle" content="black-translucent">
    <link rel="apple-touch-icon" th:href="@{/assets/images/logo.png}">
    <meta name="apple-mobile-web-app-title" content="Flatkit">
    <!-- for Chrome on Android, multi-resolution icon of 196x196 -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="shortcut icon" sizes="196x196" th:href="@{/assets/images/logo.png}">

    <!-- style -->
    <link rel="stylesheet" th:href="@{/assets/animate/animate.min.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/assets/glyphicons/glyphicons.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/assets/font-awesome/css/font-awesome.min.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{/assets/material-design-icons/material-design-icons.css}" type="text/css"/>

    <link rel="stylesheet" th:href="@{/assets/bootstrap/dist/css/bootstrap.min.css}" type="text/css"/>
    <!-- build:css @{assets/styles/app.min.css} -->
    <link rel="stylesheet" th:href="@{/assets/styles/app.css}" type="text/css"/>
    <!-- endbuild -->
    <link rel="stylesheet" th:href="@{/assets/styles/font.css}" type="text/css"/>
</head>

<body>
<div class="app" id="app">

    <!-- ############ LAYOUT START-->

    <!-- aside -->
    <!-- / -->

    <!-- content -->
    <div class="container">
        <div ui-view class="app-body" id="view">
            <div class="col-md-9 center-block">
                <br/>
                <button class="btn btn-fw light-blue-500">编辑销售单</button>
                <small th:text="'order_id: '+${o_id}"></small>
                <div class="box">
                    <div class="box-header">
                        <small>编辑销售单</small>
                    </div>
                    <div class="box-divider m-0"></div>
                    <div class="box-body">
                        <form role="form" method="post" th:action="@{/addOneOrderItem}">
                            <div class="form-group">
                                <label for="order_type" class="col-md-4 form-control-label">销售单类型</label>
                                <select class="c-select col-2" id="order_type" name="type">
                                    <option value="trade">批发</option>
                                    <option value="retail">零售</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="customer" class="col-md-4 form-control-label">客户编号</label>
                                <input type="text" class="form-control col-md-4" name="c_id" id="customer"
                                       placeholder="客户编号"
                                       th:value="${c_id}"
                                       required>
                                <input type="hidden" th:value="${o_id}" name="o_id">
                                <label for="item_name" class="col-md-4 form-control-label">货品名称</label>
                                <input class="form-control col-md-4" type="text" name="item_name" id="item_name"
                                       placeholder="货品名称"
                                       required>
                                <label for="item_quantity" class="col-md-4 form-control-label">货品数量</label>
                                <input class="form-control col-md-4" type="text" name="quantity" id="item_quantity"
                                       placeholder="货品数量" required>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn info m-b ">添加</button>
                            </div>
                        </form>
                        <form th:action="@{/commitOrder}">
                            <div class="Box">
                                <div class="box-header">
                                    <small>货品信息的表格预览，展示已经添加的货品项</small>
                                </div>
                                <table class="table table-hover b-t">
                                    <thead>
                                    <tr>
                                        <th>货品编号</th>
                                        <th>货品名称</th>
                                        <th>货品数量</th>
                                        <th>总价</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="orderItem:${orderItemWithNameList}">
                                        <td th:text="${orderItem.g_id}"></td>
                                        <td th:text="${orderItem.name}"></td>
                                        <td th:text="${orderItem.quantity}"></td>
                                        <td th:text="${orderItem.price}"></td>
                                        <td>
                                            <a class="btn btn-sm btn-danger deletebtn"
                                               th:href="@{/deleteOneOrderItem(oi_id=${orderItem.oi_id},o_id=${o_id},c_id=${c_id})}">删除</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>

                            </div>
                            <a class="btn primary m-b"
                               th:href="@{/commitOrder(method=false,o_id=${o_id},c_id=${c_id})}">取消</a>
                            <a class="btn primary m-b" th:href="@{/commitOrder(method=true,o_id=${o_id},c_id=${c_id})}">保存</a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ############ PAGE END-->

<!-- ############ LAYOUT END-->
<!-- build:js @{scripts/app.html.js} -->
<!-- jQuery -->
<script th:src="@{/libs/jquery/jquery/dist/jquery.js}"></script>

<!-- Bootstrap -->
<script th:src="@{/libs/jquery/tether/dist/js/tether.min.js}"></script>
<script th:src="@{/libs/jquery/bootstrap/dist/js/bootstrap.js}"></script>
<!-- core -->
<script th:src="@{/libs/jquery/underscore/underscore-min.js}"></script>
<script th:src="@{/libs/jquery/jQuery-Storage-API/jquery.storageapi.min.js}"></script>
<script th:src="@{/libs/jquery/PACE/pace.min.js}"></script>

<script th:src="@{/scripts/config.lazyload.js}"></script>

<script th:src="@{/scripts/palette.js}"></script>
<script th:src="@{/scripts/ui-load.js}"></script>
<script th:src="@{/scripts/ui-jp.js}"></script>
<script th:src="@{/scripts/ui-include.js}"></script>
<script th:src="@{/scripts/ui-device.js}"></script>
<script th:src="@{/scripts/ui-form.js}"></script>
<script th:src="@{/scripts/ui-nav.js}"></script>
<script th:src="@{/scripts/ui-screenfull.js}"></script>
<script th:src="@{/scripts/ui-scroll-to.js}"></script>
<script th:src="@{/scripts/ui-toggle-class.js}"></script>

<script th:src="@{/scripts/app.js}"></script>

<!-- ajax -->
<script th:src="@{/libs/jquery/jquery-pjax/jquery.pjax.js}"></script>
<script th:src="@{/scripts/ajax.js}"></script>
<!-- endbuild -->
</body>

</html>
